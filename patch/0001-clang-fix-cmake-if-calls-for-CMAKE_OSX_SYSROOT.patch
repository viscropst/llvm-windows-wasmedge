From 2ca35578ac672ff2c99b9cf28b39fc24549f2245 Mon Sep 17 00:00:00 2001
From: zhuyu <bcct2010@live.cn>
Date: Wed, 16 Feb 2022 04:32:19 +0800
Subject: [PATCH] [clang] fix cmake if() calls for CMAKE_OSX_SYSROOT

---
 clang/tools/c-index-test/CMakeLists.txt | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/clang/tools/c-index-test/CMakeLists.txt b/clang/tools/c-index-test/CMakeLists.txt
index ceef4b086..d4d857fe3 100644
--- a/clang/tools/c-index-test/CMakeLists.txt
+++ b/clang/tools/c-index-test/CMakeLists.txt
@@ -40,8 +40,10 @@ set_target_properties(c-index-test
 
 # If libxml2 is available, make it available for c-index-test.
 if (CLANG_HAVE_LIBXML)
-  if ((CMAKE_OSX_SYSROOT) AND (EXISTS ${CMAKE_OSX_SYSROOT}/${LIBXML2_INCLUDE_DIR}))
-    include_directories(SYSTEM ${CMAKE_OSX_SYSROOT}/${LIBXML2_INCLUDE_DIR})
+  if (CMAKE_OSX_SYSROOT)
+    if (EXISTS ${CMAKE_OSX_SYSROOT}/${LIBXML2_INCLUDE_DIR})
+      include_directories(SYSTEM ${CMAKE_OSX_SYSROOT}/${LIBXML2_INCLUDE_DIR})
+    endif()
   else()
     include_directories(SYSTEM ${LIBXML2_INCLUDE_DIR})
   endif()
-- 
2.33.0.windows.2
